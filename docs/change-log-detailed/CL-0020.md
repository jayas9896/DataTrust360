# Detailed Change Log: CL-0020

Back to main log: [docs/commit-log.md](../commit-log.md)

## Commit Summary
Attribute insights to tenant IDs.

## Why
Ensure audit logs and insights are correctly tied to tenant context.

## What Changed
- Added tenant ID extraction in the anomaly scoring worker.
- Updated insight generation to use parsed tenant IDs.

## How (Implementation Details)
- Parsed `EventEnvelope` from payload JSON to obtain tenant ID.
- Added safe fallback with warning logs when parsing fails.

## Files Touched
- `processing-worker/src/main/java/com/datatrust360/processing/AnomalyScoringWorker.java`
- `docs/commit-log.md`
- `docs/change-log-detailed/CL-0020.md`

